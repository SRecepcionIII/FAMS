<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Chart of Accounts</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
    <link rel="stylesheet" href="style/chartofaccountsstyle.css"/>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="profile">
            <i class="fas fa-cog settings-icon"></i>
            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Employee" class="profile-img"/>
            <div class="employee-name">Employee Name</div>
        </div>
        <div class="nav-menu">
            <div class="nav-item">
                <span>Dashboard</span>
            </div>
            <div class="nav-item">
                <span>Transactions</span>
            </div>
            <div class="nav-item">
                <span>Audit Reports</span>
            </div>
            <div class="nav-item">
                <span>Reports</span>
            </div>
            <div class="nav-item active">
                <span>Chart of Accounts</span>
            </div>
        </div>
        <button class="logout-btn">Logout</button>
    </div>

    <div class="main-content">
         <!-- Top Navigation Bar -->
        <div class="top-bar">
            <div class="search-bar">
                <i class="fas fa-search" style="color: #95a5a6; margin-right: 10px;"></i>
                <input type="text" placeholder="Search Tasks, Projects, Goals"/>
            </div>
            <div class="icons">
                <div class="icon"><i class="fas fa-envelope"></i></div>
                <div class="icon"><i class="fas fa-bell"></i></div>
            </div>
        </div>

        <div class="accounts-section active-section" id="accounts-section">

            <!-- Chart of Accounts-->
            <h1 class="charts-of-accounts">Chart of Accounts</h1>

            <div class="button-group">
                <button class="download-pdf-btn"><i class="fas fa-download"></i> Download PDF</button>
                <button class="add-account-btn" onclick="showAccountForm()"><i class="fas fa-plus"></i> Add Account</button>
            </div>

            <div class="account-form" id="accountForm">
                <div class="form-group">
                    <label for="accountNumber">Account Number</label>
                    <input type="text" id="accountNumber" required/>
                </div>
                <div class="form-group">
                    <label for="accountName">Account Name</label>
                    <input type="text" id="accountName" required/>
                </div>
                <div class="form-group">
                    <label for="accountType">Account Type</label>
                    <select id="accountType" required>
                        <option value="">Select Type</option>
                        <option value="Asset">Asset</option>
                        <option value="Liability">Liability</option>
                        <option value="Equity">Equity</option>
                        <option value="Revenue">Revenue</option>
                        <option value="Expense">Expense</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="accountBalance">Opening Balance</label>
                    <input type="number" id="accountBalance" step="0.01" required/>
                </div>
                <div class="form-actions">
                    <button class="cancel-btn" onclick="hideAccountForm()">Cancel</button>
                    <button class="save-btn" onclick="addAccount()">Save Account</button>
                </div>
            </div>

            <!-- Chart of Account Header-->
            <table class="accounts-table" id="accountsTable">
                <thead>
                    <tr>
                        <th>Account Number</th>
                        <th>Account Name</th>
                        <th>Account Type</th>
                        <th>Balance</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <!-- Chart of Account Body-->
                <tbody id="accountsTableBody">
            
                </tbody>
            </table>
        </div>
    </div>
     
    <!-- Script for Buttons -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>

        function showAccountForm() {
            document.getElementById('accountForm').style.display = 'block';
        }

        function hideAccountForm() {
            document.getElementById('accountForm').style.display = 'none';
            document.getElementById('accountForm').reset();
        }

        function addAccount() {
            const number = document.getElementById('accountNumber').value;
            const name = document.getElementById('accountName').value;
            const type = document.getElementById('accountType').value;
            const balance = document.getElementById('accountBalance').value;

            if (!number || !name || !type || !balance) {
                alert('Please fill all fields');
                return;
            }

            const tableBody = document.getElementById('accountsTableBody');
            const newRow = tableBody.insertRow();

            newRow.innerHTML = `
                <td>${number}</td>
                <td>${name}</td>
                <td>${type}</td>
                <td>â‚±${parseFloat(balance).toLocaleString('en-PH', { minimumFractionDigits: 2 })}</td>
                <td>
                    <i class="fas fa-edit" style="cursor:pointer; margin-right:10px;"></i>
                    <i class="fas fa-trash" style="cursor:pointer; color:#e74c3c;"></i>
                </td>
            `;

            hideAccountForm();
            addRowEventListeners(newRow);
        }

        function addRowEventListeners(row) {
            row.querySelector('.fa-edit').addEventListener('click', function () {
                alert('Edit functionality would go here');
            });
            row.querySelector('.fa-trash').addEventListener('click', function () {
                if (confirm('Are you sure you want to delete this account?')) {
                    row.remove();
                }
            });
        }
        document.querySelectorAll('#accountsTableBody tr').forEach(row => {
            addRowEventListeners(row);
        });
    
    </script>
</body>
</html>
